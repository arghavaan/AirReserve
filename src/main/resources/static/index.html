<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>::Air Reserve ::</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <form autocomplete="off">
            <div class="row mt-5">
                <h4>Specify your information for searching flights</h4>
            </div>
            <div class="row m-4">
                <label class="p-1">
                    Flight Type :
                </label>
                <div class="btn-group btn-group-toggle" data-toggle="buttons">
                    <label class="btn btn-outline-secondary">
                        <input type="radio" name="options" id="option1" autocomplete="off" required> Round-Trip
                    </label>
                    <label class="btn btn-outline-secondary">
                        <input type="radio" name="options" id="option2" autocomplete="off" required> One-Way
                    </label>
                    <label class="btn btn-outline-secondary">
                        <input type="radio" name="options" id="option3" autocomplete="off" required> Multi-City
                    </label>
                </div>
            </div>
            <div class="row m-4">
                <div class="col">
                    <input type="text" id="from" class="form-control ui-widget" placeholder="From" required>
                </div>
                <div class="col">
                    <input type="text" id="to" class="form-control ui-widget" placeholder="To" required>
                </div>
                <div class="col">
                    <input type="date" id="departure" class="form-control" placeholder="Departure" required>
                </div>
                <div class="col">
                    <input type="date" id="return" class="form-control" placeholder="Return">
                </div>
                <div class="col">
                  <input type="submit" class="btn btn-info" value="Submit Button">
                </div>
            </div>
        </form>
    </div>
    <script>
    $(document).ready(function(){
    	$("#from").keyup(function(){
    		var from = $('#from').val();
    		$.ajax({     
    			type: "GET",
    		     url: 'airportslive?name=' + from,
    		     dataType: "json",
    		     success: function (data) {
    		    	 	if(data[0]){
		    	 			var placeNames = [];
    		    	 		for(i=0; i<data.length; i++){
    		    	 			placeNames.push(data[i].PlaceName);
    		    	 		}
    		    	 		
		    		    	$( "#from" ).autocomplete({
		    		             source: placeNames,
		    		             minLength:0
		    		        }).bind('focus', function(){ $(this).autocomplete("search"); } );
    		    	 	}else{
    		    	 		
    		    	 	}
    		         }
    		});
    	});
    	
    	$("#to").keyup(function(){
    		var to = $('#to').val();
    		$.ajax({     
    			type: "GET",
    		     url: 'airportslive?name=' + to,
    		     dataType: "json",
    		     success: function (data) {
    		    	 if(data[0]){
		    	 			var placeNames = [];
 		    	 		for(i=0; i<data.length; i++){
 		    	 			placeNames.push(data[i].PlaceName);
 		    	 		}
		    		    	$( "#to" ).autocomplete({
		    		             source: placeNames,
		    		             minLength:0
		    		        }).bind('focus', function(){ $(this).autocomplete("search"); } );
 		    	 	}else{
 		    	 		
 		    	 	}
 		         }
    		});
    	});

    	$("input[name=options]:radio").click(function(){
    		
    		$("#option1").parent().removeClass('active');
    		$("#option2").parent().removeClass('active');
    		$("#option3").parent().removeClass('active');

    		$(this.parentNode).addClass('active');
            
    		switch (this.id) {
    	    case 'option1':
    	    	$("#return").prop('required', true);
    	    	$("#return").prop('disabled', false);
    	      break;
    	    case 'option2':
    	    	$("#return").prop('required', false);
    	    	$("#return").prop('disabled', true);
    	      break;
    	    case 'option3':
      	      break;
    	  }
    	});
        
    });
    </script>
</body>
</html>